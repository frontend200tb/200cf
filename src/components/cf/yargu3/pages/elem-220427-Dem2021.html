<article class="article">
  <strong>Спортивное программирование в ЯрГУ</strong>
  <p><a href="https://codeforces.com/group/CkAC2YcRrZ/contests" target="_blank">Codeforces ЯрГУ. Контесты</a></p>
  <p>Автор кружка Игорь Маслеников</p>
</article>


<article class="article">
  <h1>Demidov IT Cup - 2021</h1>
  <p><a href="https://codeforces.com/group/CkAC2YcRrZ/contest/379785" target="_blank">Codeforces Контест 379785 2022-04-27</a></p>
</article>


<!-- Содержание -->
<article class="article">
  <h2>Содержание</h2>

      <a href="#task1">Задача A. Простое имя</a>
  <br><a href="#task2">Задача B. ДСУИМ 2048</a>
  <br><a href="#task3">Задача C. Проблемы с компьютером</a>
  <br><a href="#task4">Задача D. Ласточка</a>
  <br><a href="#task5">Задача E. Обои</a>
  <br><a href="#task6">Задача F. Штукатурка</a>
  <br><a href="#task7">Задача G. Кухонный гарнитур</a>
  <br><a href="#task8">Задача H. Двери</a>
  <br><a href="#task9">Задача I. Линия горизонта</a>
  <br><a href="#task10">Задача J. Пересечение фигур</a>
</article>


<!-- Задача A. Простое имя -->
<article class="article">
  <div class="anchor" id="task1"></div>
  <h3>Задача A. Простое имя</h3>

  <div class="time-memory">(Время 2с. Память 256мб)</div>

</article>


<!-- Задача B. ДСУИМ 2048 -->
<article class="article">
  <div class="anchor" id="task2"></div>
  <h3>Задача B. ДСУИМ 2048</h3>

  <div class="time-memory">(Время 1с. Память 256мб)</div>

</article>


<!-- Задача C. Проблемы с компьютером -->
<article class="article">
  <div class="anchor" id="task3"></div>
  <h3>Задача C. Проблемы с компьютером</h3>

  <div class="time-memory">(Время 6с. Память 128мб)</div>

</article>


<!-- Задача D. Ласточка -->
<article class="article">
  <div class="anchor" id="task4"></div>
  <h3>Задача D. Ласточка</h3>

  <div class="time-memory">(Время 2с. Память 256мб)</div>

</article>


<!-- Задача E. Обои -->
<article class="article">
  <div class="anchor" id="task5"></div>
  <h3>Задача E. Обои</h3>

  <div class="time-memory">(Время 1с. Память 256мб)</div>

  <p>Игорь и Ира решили поклеить новые обои в комнате, а то некрасиво жить с обоями от предыдущих жильцов. Сама комната представляет собой параллелепипед с шириной a, длиной b и высотой c. Окна и двери настолько узкие, что Игорь их не учитывает. Обои продаются в рулонах и для поклейки будут разрезаться только поперек.</p>

  <p>В магазине Ире понравились очень красивые обои шириною w и длиною h со сложным рисунком имеющим раппорт длины r. Все рулоны одинаковые и начинаются с одинакового рисунка.</p>

  <p>Игорь и Ира начнут клеить обои с начала рулона и первый кусок приклеят, состыковав его с потолком по ширине рулона. Помогите Игорю и Ире определить какое минимальное количество рулонов обоев им потребуется, если это невозможно сделать выведите -1.</p>

  <h4>Входные данные</h4>
  <p>На вход подается 6 целых положительных чисел a, b, c, h, w, r — длина, ширина, высота комнаты, длина, ширина одного рулона обоев и их раппорт (1 ≤ a, b, c, h, w, r ≤ 10⁶, h ≥ r).</p>

  <h4>Выходные данные</h4>
  <p>Выведите одно целое число минимальное количество рулонов, необходимых для поклейки обоев.</p>

  <details>
    <summary>Примеры</summary>
    <h4>Пример 1</h4>
    <code>400 300 200 1000 100 100</code>
    <code>3</code>

    <h4>Пример 2</h4>
    <code>400 300 200 1000 120 100</code>
    <code>-1</code>
    <p>Раппорт на обоях (шаг рисунка) — это расстояние между повторяющимися элементами рисунка.</p>
  </details>

  <details>
    <summary>Решение</summary>

    <h4>Тест 3</h4>
    <code>12 84 25 43 8 10</code>
    <code>18</code>

    <h4>Тест 4</h4>
    <code>63 32 55 35 2 25</code>
    <code>190</code>

<pre>
#include &lt;iostream&gt;

using namespace std;

typedef long long ll;

int main() {
  // условная компиляция
#ifdef _DEBUG
  freopen("input.txt", "rt", stdin);
  freopen("output.txt", "wt", stdout);
#endif

  // ввод данных
  int a; // ширина комнаты
  int b; // длина комнаты
  int c; // высота комнаты
  int h; // длина рулона
  int w; // ширина рулона
  int r; // раппорт рулона
  cin >> a >> b >> c >> h >> w >> r;

  // решение

  // периметр комнаты
  ll p = 2 * (a + b);

  // если нужно резать рулон по ширине то ответ -1
  if (p % w != 0) {
    cout &lt;&lt; -1;
    return 0;
  }

  // необходимое число полос на комнату
  ll strips = p / w;

  // режем полоску на повторяющиеся кусочки
  ll pieces_in_strip = c / r; // число повторяющихся кусочков в полоске
  ll rest_strip = c - pieces_in_strip * r; // размер остатка в полоске

  ll rest_in_strip = 0; // число остатков
  if (rest_strip > 0) {
    rest_in_strip = strips;
  }

  // необходимое число кусочков на комнату
  ll needed_pieces = pieces_in_strip * strips + rest_in_strip;

  // режем рулон на повторяющиеся кусочки
  ll pieces_in_roll = h / r; // число повторяющихся кусочков в рулоне
  ll rest_roll = h - pieces_in_roll * r; // размер остатка в рулоне

  // если размер остатка в рулоне больше или равен
  // размеру остатка в полоске то его тоже можно считать
  bool can_count_rest = false;
  if (rest_strip > 0 && rest_roll >= rest_strip) {
    can_count_rest = true;
  }

  ll left = 0;
  ll right = 1e15;

  // бинарный поиск по ответу
  while (right - left > 1) {
    ll mid = left + (right - left) / 2;

    // число повторяющихся кусочков из mid рулонов
    ll pieces_in_mid = mid * pieces_in_roll;

    // если полоски содержат остатки, не равные раппорту
    // и если остатки в рулоне больше остатков в полосках
    // тогда добавим число остатков в рулоне, которые закроют остатки полосок
    if (can_count_rest) {
      if (mid &lt;= strips) {
        pieces_in_mid += mid;
      } else {
        pieces_in_mid += strips;
      }
    }

    if (pieces_in_mid >= needed_pieces) {
      right = mid;
    } else {
      left = mid;
    }
  }

  // вывод результата
  cout &lt;&lt; right;
}
</pre>
  </details>
</article>


<!-- Задача F. Штукатурка -->
<article class="article">
  <div class="anchor" id="task6"></div>
  <h3>Задача F. Штукатурка</h3>

  <div class="time-memory">(Время 1с. Память 256мб)</div>

</article>


<!-- Задача G. Кухонный гарнитур -->
<article class="article">
  <div class="anchor" id="task7"></div>
  <h3>Задача G. Кухонный гарнитур</h3>

  <div class="time-memory">(Время 1с. Память 256мб)</div>

</article>


<!-- Задача H. Двери -->
<article class="article">
  <div class="anchor" id="task8"></div>
  <h3>Задача H. Двери</h3>

  <div class="time-memory">(Время 1с. Память 256мб)</div>

  <p>Игорь и Ира решили поменять двери в квартире. Сделав все необходимые замеры ширины дверных проемов и записав их на бумажке, они поехали в магазин. По пути они обсудили, что самое важное, чтобы двери были одного цвета, иначе будет не гармонично смотреться.</p>

  <p>В магазине перед Игорем и Ирой положили огромный каталог со всеми дверьми, имеющимися в наличии. Помогите Игорю и Ире определить, какие цвета они могут использовать.</p>

  <h4>Входные данные</h4>
  <p>В первой строке входных данных натуральное число n (1 ≤ n ≤ 10⁵) — количество дверей в квартире Игоря и Иры.</p>

  <p>Во второй строке входных данных задана последовательность из n
   целых чисел aᵢ (1 ≤ aᵢ ≤ 10⁹). Ширина дверного проема с номером i равна aᵢ.</p>

  <p>В третьей строке входных данных указано натуральное число m (1 ≤ m ≤ 10⁵) — количество цветов дверей, доступных в каталоге.</p>

  <p>Каждая из следующих m строк описывает наличие дверей цвета с номером j. Первое число в ней k<sub>j</sub> (1 ≤ j ≤ m) указывает общее количество дверей этого цвета, далее через пробел записаны k<sub>j</sub> целых чисел — размеры дверей bᵢ (1 ≤ bᵢ ≤ 10⁹, 1 ≤ i ≤ k<sub>j</sub>). Гарантируется что количество всех дверей на складе не превосходит 10⁵.</p>

  <h4>Выходные данные</h4>
  <p>Выведите в порядке возрастания номера цветов, которые могут выбрать Игорь и Ира. Если подходящих цветов нет, то нужно вывести «-1» (без кавычек).</p>

  <details>
    <summary>Пример</summary>
<pre>
4
60 80 80 100
3
3 20 40 60
6 60 60 80 80 100 100
4 80 80 100 60
</pre>
  <code>2 3 </code>
  </details>

  <details>
    <summary>Решение</summary>
<pre>
#include &lt;iostream&gt;
#include &lt;vector&gt;
#include &lt;algorithm&gt;
#include &lt;map&gt;

using namespace std;

int main() {
  // ускорение ввода-вывода
  ios::sync_with_stdio(0);
  cin.tie(0);
  cout.tie(0);

  // условная компиляция
#ifdef _DEBUG
  freopen("input.txt", "rt", stdin);
  freopen("output.txt", "wt", stdout);
#endif

  // ввод данных
  int n; // число дверей
  cin >> n;
  vector&lt;int&gt; A(n+1);
  for (int i = 1; i &lt;= n; i++) {
    cin >> A[i];
    // i-ая дверь имеет ширину A[i]
  }
  int m; // число цветов
  cin >> m;
  vector&lt;vector&lt;int&gt; &gt; B(m + 1);
  for (int color = 1; color &lt;= m; color++) {
    int len;
    cin >> len;
    for (int i = 0; i &lt; len; i++) {
      int w;
      cin >> w;
      B[color].push_back(w);
      // B[color] массив ширины дверей цветом color
    }
  }

  // решение
  // соберем частотный словарь ширины дверей которые нужны
  map&lt;int, int&gt; Freq;
  for (int i = 1; i &lt;= n; i++) {
    Freq[A[i]]++;
    // A[i] - ширина двери, Freq[A[i]] - их количество
  }
  vector&lt;int&gt; Res;
  for (int color = 1; color &lt;= m; color++) {

    // для каждого цвета двери соберем частостный словарь ширины дверей
    map&lt;int, int&gt; FreqColor;
    for (int i = 0; i &lt; B[color].size(); i++) {
      FreqColor[B[color][i]]++;
    // B[i] - ширина двери, FreqColor[B[i]] - их количество
    }

    // если есть все двери этого цвета, то цвет добавляем в результат
    bool flag = true;
    for (pair&lt;int, int&gt; wid: Freq) {
      if (wid.second > FreqColor[wid.first]) {
        flag = false;
      }
    }
    if (flag) {
      Res.push_back(color);
    }
  }

  // вывод результата
  if (Res.size() == 0) {
    cout &lt;&lt; -1;
  } else {
    for (int i = 0; i &lt; Res.size(); i++) {
      cout &lt;&lt; Res[i] &lt;&lt; ' ';
    }
  }
}
</pre>
  </details>
</article>


<!-- Задача I. Линия горизонта -->
<article class="article">
  <div class="anchor" id="task9"></div>
  <h3>Задача I. Линия горизонта</h3>

  <div class="time-memory">(Время 0.5с. Память 256мб)</div>

</article>


<!-- Задача J. Пересечение фигур -->
<article class="article">
  <div class="anchor" id="task10"></div>
  <h3>Задача J. Пересечение фигур</h3>

  <div class="time-memory">(Время 1с. Память 256мб)</div>

</article>
